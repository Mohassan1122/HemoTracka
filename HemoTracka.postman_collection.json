{
  "info": {
    "name": "HemoTracka API",
    "description": "Blood Bank Management System API - Complete collection for testing all endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8000/api"
    },
    {
      "key": "token",
      "value": ""
    }
  ],
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/auth/register",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"first_name\": \"New\",\n  \"last_name\": \"Member\",\n  \"email\": \"new@hemotracka.com\",\n  \"phone\": \"+2349000000000\",\n  \"password\": \"password\",\n  \"password_confirmation\": \"password\",\n  \"role\": \"donor\"\n}"
            }
          }
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "if (jsonData.token) {",
                  "    pm.collectionVariables.set('token', jsonData.token);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "url": "{{base_url}}/auth/login",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@hemotracka.com\",\n  \"password\": \"password\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Public",
      "item": [
        {
          "name": "Track Delivery",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/deliveries/track/HT-RIDER-0",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ]
          }
        }
      ]
    },
    {
      "name": "Admin (Global Oversight)",
      "item": [
        {
          "name": "Admin Dashboard",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/admin/dashboard",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Analytics: Donations by Blood Group",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/admin/stats/donations-by-blood-group",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Analytics: Inventory by Blood Group",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/admin/stats/inventory-by-blood-group",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Analytics: Low Stock Alerts",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/admin/stats/low-stock-alerts",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        }
      ]
    },
    {
      "name": "Blood Bank (Operational)",
      "item": [
        {
          "name": "Blood Bank Dashboard",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/blood-bank/dashboard",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Manage Inventory",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/blood-bank/inventory",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Inbound Donations",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/blood-bank/donations",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        }
      ]
    },
    {
      "name": "Facilities (Hospitals)",
      "item": [
        {
          "name": "Hospital Dashboard",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/facilities/dashboard",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Search Global Inventory",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/facilities/inventory-search",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "My Request History",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/facilities/request-history",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        }
      ]
    },
    {
      "name": "Organizations",
      "item": [
        {
          "name": "List Organizations",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/organizations",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Create Organization",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/organizations",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"New Hospital\",\n  \"type\": \"Hospital\",\n  \"license_number\": \"HOSP-2024-001\",\n  \"address\": \"123 New Street\",\n  \"contact_email\": \"contact@newhospital.com\",\n  \"phone\": \"+2348000000100\"\n}"
            }
          }
        },
        {
          "name": "Get Organization",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/organizations/1",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Get Organization Stats",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/organizations/1/stats",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        }
      ]
    },
    {
      "name": "Donors",
      "item": [
        {
          "name": "List Donors",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/donors",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Create Donor",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/donors",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"organization_id\": 1,\n  \"first_name\": \"Jane\",\n  \"last_name\": \"Donor\",\n  \"blood_group\": \"A+\",\n  \"genotype\": \"AA\",\n  \"date_of_birth\": \"1990-05-15\",\n  \"phone\": \"+2348000000200\",\n  \"address\": \"456 Donor Street\"\n}"
            }
          }
        },
        {
          "name": "Get Donor",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/donors/1",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Get Donor Donations",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/donors/1/donations",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        }
      ]
    },
    {
      "name": "Donations",
      "item": [
        {
          "name": "List Donations",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/donations",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Record Donation",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/donations",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"donor_id\": 1,\n  \"organization_id\": 1,\n  \"blood_group\": \"A+\",\n  \"units\": 1,\n  \"donation_date\": \"2025-12-18\",\n  \"notes\": \"Routine donation\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Inventory",
      "item": [
        {
          "name": "List Inventory",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/inventory",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Get Inventory Summary",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/inventory/summary",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Adjust Stock",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/inventory/1/adjust-stock",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"adjustment\": 5,\n  \"reason\": \"Received new donation\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Blood Requests",
      "item": [
        {
          "name": "List Blood Requests",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/blood-requests",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Create Blood Request",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/blood-requests",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"organization_id\": 2,\n  \"blood_group\": \"O-\",\n  \"units_needed\": 3,\n  \"type\": \"Emergent\",\n  \"urgency_level\": \"Critical\",\n  \"needed_by\": \"2025-12-19 10:00:00\",\n  \"notes\": \"Emergency surgery\"\n}"
            }
          }
        },
        {
          "name": "Approve Blood Request",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/blood-requests/1/approve",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"pickup_location\": \"National Blood Bank, 123 Medical Street\",\n  \"dropoff_location\": \"UNIPORT Teaching Hospital, 456 University Road\"\n}"
            }
          }
        },
        {
          "name": "Cancel Blood Request",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/blood-requests/2/cancel",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        }
      ]
    },
    {
      "name": "Deliveries",
      "item": [
        {
          "name": "List Deliveries",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/deliveries",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Assign Rider",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/deliveries/1/assign-rider",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rider_id\": 1\n}"
            }
          }
        },
        {
          "name": "Mark Picked Up",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/deliveries/1/pick-up",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Mark In Transit",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/deliveries/1/in-transit",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Complete Delivery",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/deliveries/1/complete",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Track Delivery (Public)",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/deliveries/track/HT-XXXXXXXX",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ]
          }
        }
      ]
    },
    {
      "name": "Messages",
      "item": [
        {
          "name": "Get Inbox",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/messages/inbox",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Get Sent Messages",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/messages/sent",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Send Message",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/messages",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"to_user_id\": 2,\n  \"subject\": \"Urgent Request\",\n  \"body\": \"Please check the pending blood request for O- blood.\"\n}"
            }
          }
        },
        {
          "name": "Get Unread Count",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/messages/unread-count",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        }
      ]
    },
    {
      "name": "Notifications",
      "item": [
        {
          "name": "List Notifications",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/notifications",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Get Unread Notifications",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/notifications/unread",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Get Unread Count",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/notifications/unread-count",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Mark All as Read",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/notifications/mark-all-read",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        }
      ]
    },
    {
      "name": "Feedback",
      "item": [
        {
          "name": "List Feedback",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/feedback",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Submit Feedback",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/feedback",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"target_type\": \"App\\\\Models\\\\Organization\",\n  \"target_id\": 1,\n  \"rating\": 5,\n  \"comment\": \"Excellent service and fast response!\"\n}"
            }
          }
        },
        {
          "name": "Get Average Rating",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/feedback/average-rating?target_type=App\\Models\\Organization&target_id=1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "feedback",
                "average-rating"
              ],
              "query": [
                {
                  "key": "target_type",
                  "value": "App\\Models\\Organization"
                },
                {
                  "key": "target_id",
                  "value": "1"
                }
              ]
            },
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        }
      ]
    },
    {
      "name": "Riders",
      "item": [
        {
          "name": "List Riders",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/riders",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Get Available Riders",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/riders/available",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Update Rider Location",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/riders/1/update-location",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latitude\": 6.5244,\n  \"longitude\": 3.3792\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Payments & Subscriptions",
      "item": [
        {
          "name": "List Plans",
          "request": {
            "method": "GET",
            "url": "{{base_url}}/subscriptions/plans",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ]
          }
        },
        {
          "name": "Subscribe",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/subscriptions/subscribe",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"plan_id\": 2\n}"
            }
          }
        },
        {
          "name": "Process Payment",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/facilities/payments/process",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"blood_request_id\": 1,\n  \"amount\": 5000,\n  \"payment_method\": \"Card\"\n}"
            }
          }
        }
      ]
    }
  ]
}